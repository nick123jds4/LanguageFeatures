@{ 
    if (Model is ProtectedDocument)
        ViewBag.Title = $"Editing {Model.Title} ({User?.Identity?.Name})";
    else
        ViewBag.Title = $"Documents ({User?.Identity?.Name})";
}

@if (Model is IEnumerable<ProtectedDocument>)
{ 
    <table class="table table-sm table-bordered">
        <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Editor</th>
            <th></th>
        </tr>
        @foreach (ProtectedDocument doc in Model)
        {
            <tr>
                <td>@doc.Title</td>
                <td>@doc.Author</td>
                <td>@doc.Editor</td>
                <td>
                    <a class="btn btn-sm btn-primary" asp-action="Edit" asp-route-title="@doc.Title">Edit</a>

                </td>
            </tr>
        }
    </table>
}
else
{ 
    <div class="m-1 p-1">
        Document editing feature would go here...
    </div>
    <a asp-action="Index" class="btn btn-primary">Done</a>
} 